CREATE TABLE spmember(
	id varchar2(12) NOT NULL,
	auth number(1) default 1 NOT NULL, /*1.일반회원 2.관리자*/
	CONSTRAINT spmember_pk PRIMARY KEY (id) 
);

CREATE TABLE spmember_detail(
	id varchar2(12) NOT NULL,
	name varchar2(30) NOT NULL,
	passwd varchar2(12) NOT NULL,
	phone varchar2(15) NOT NULL,
	email varchar2(50) NOT NULL,
	zipcode varchar2(5) NOT NULL,
	address1 varchar2(60) NOT NULL,
	address2 varchar2(60),
	reg_date DATE NOT NULL,
	CONSTRAINT spmember_detail_pk PRIMARY KEY (id),
	CONSTRAINT spmember_detail_fk1 FOREIGN KEY (id) REFERENCES spmember (id)
);

CREATE TABLE spboard(
	num number not null,
	title varchar2(100) not null,
	content clob not null,
	hit number(5)default 0 not null,
	reg_date date not null,
	uploadfile blob,
	filename varchar2(100),
	ip varchar2(40) not null,
	id varchar2(12)not null,
	CONTSTRAINT spboard_pk primary key (num),
	CONSTRAINT spboard_spmember_fk1 foreign key (id) references spmember (id)
);

create sequence board_seq;

CREATE TABLE spboard_reply(
	re_num NUMBER NOT NULL,
	re_content VARCHAR2(900) NOT NULL,
	re_date DATE NOT NULL,
	re_ip varchar2(40) NOT NULL,
	num number NOT NULL,
	id VARCHAR2(12) NOT NULL,
	CONSTRAINT spboard_reply_pk PRIMARY KEY (re_num),
	CONSTRAINT reply_spboard_fk1 FOREIGN KEY (num) REFERENCES spboard (num),
	CONSTRAINT reply_spboard_fk2 FOREIGN KEY (id) REFERENCES spmember (id)
);

create sequence reply_seq;