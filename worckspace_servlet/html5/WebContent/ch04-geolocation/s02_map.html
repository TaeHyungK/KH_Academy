<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>구글 맵 사용</title>
<link rel="stylesheet" type="text/css" href="http://code.google.com/apis/maps/documentation/javascript/examples/default.css">
<script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyDZNtUhJtQSn6MDmnvRgIJyf6Rdk7HpRUo"></script>
<script type="text/javascript">
      /*
       구글맵 사이트 : https://developers.google.com/maps
       maps JavaScript API : https://developers.google.com/maps/documentation/javascript/
       API key 등록하기 : https://console.developers.google.com
        메뉴 중에서 사용자 인증 정보에서 API key 생성
       
      */
      window.onload = function(){
    	   //geolocation 서버스 지원 여부 체크
    	   if(!navigator.geolocation){
    		   document.getElementById('disp').innerHTML = '위치 정보 지원 안함';
    		   return;
    	   }
    	   //사용자 현재 위치 확인
    	   navigator.geolocation.getCurrentPosition(function(position){
    		   var lat = position.coords.latitude;
    		   var lon = position.coords.longitude;
    		   
    		   console.log('위도 : '+lat);
    		   console.log('경도 : '+lon);
    		   
    		   //구글맵에 표시할 위치 정보를 갖는 객체 생성
    		   var initLoc = new google.maps.LatLng(lat,lon);
    		   
    		   var map_canvas = document.getElementById('map_canvas');
    		   //구글맵에 객체 생성
    		   var map = new google.maps.Map(map_canvas,{
    			   zoom:16,
    			   mapTypeId:google.maps.MapTypeId.ROADMAP//ROADMAP,TERRAIN
    		   });
    		   //구글맵에 위치 정보 매칭
    		   map.setCenter(initLoc);//지도의 중앙에 현재 위치
    		   //마커 표시
    		  /*  var marker = new google.maps.Marker({
    			   position:initLoc,
    			   map:map,
    			   title:'I am Here'
    		   }); */
    		   //말 풍선 형태의 마커
    		   var infowindow = new google.maps.InfoWindow();
    		   infowindow.setContent('현재 내 위치는 <br> 위도 :'+lat+' ,경도 : '+lon);
    		   infowindow.setPosition(initLoc);
    		   infowindow.open(map);
    		   
    	   })
       };

</script>
</head>
<body>
    <h2 id="disp">구글맵 보기</h2>
    <div id="map_canvas" style="width:100%;height:100%;"></div>
</body>
</html>